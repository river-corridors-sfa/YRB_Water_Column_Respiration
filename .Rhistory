pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Map/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
merge <- data %>%
left_join(metadata, by = c('IDmapping.Site_ID' = 'Site_ID')) %>%
rename(Site_ID = IDmapping.Site_ID,
ER_wc = DO.slope.mgday)
sites <- st_as_sf(merge, coords = c('Longitude','Latitude'), crs = common_crs)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3)+
scale_color_viridis(option = 'B', begin = 0.3)+
scale_size(range = c(2, 6.5), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
View(data)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3)+
scale_color_viridis(option = 'B', begin = 0.3)+
scale_size(range = c(0.5, 6.5), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
merge <- data %>%
left_join(metadata, by = c('IDmapping.Site_ID' = 'Site_ID')) %>%
rename(Site_ID = IDmapping.Site_ID,
ER_wc = DO.slope.mgday) %>%
arrange(ER_wc)
sites <- st_as_sf(merge, coords = c('Longitude','Latitude'), crs = common_crs)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3)+
scale_color_viridis(option = 'B', begin = 0.3)+
scale_size(range = c(0.5, 6.5), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3)+
scale_color_viridis(option = 'B', begin = 0.3)+
scale_size(range = c(1, 6.5), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1, 6.5), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
summary(merge$ER_wc)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1, 5), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', nbreaks = f)+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', nbreaks = 5)+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', n.breaks = 5)+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', n.breaks = '5')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', n.breaks = '6')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', n.breaks = '10')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
View(merge)
merge <- data %>%
left_join(metadata, by = c('IDmapping.Site_ID' = 'Site_ID')) %>%
rename(Site_ID = IDmapping.Site_ID,
ER_wc = DO.slope.mgday) %>%
arrange(ER_wc, desc)
merge <- data %>%
left_join(metadata, by = c('IDmapping.Site_ID' = 'Site_ID')) %>%
rename(Site_ID = IDmapping.Site_ID,
ER_wc = DO.slope.mgday) %>%
arrange(desc(ER_wc))
sites <- st_as_sf(merge, coords = c('Longitude','Latitude'), crs = common_crs)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
merge <- data %>%
left_join(metadata, by = c('IDmapping.Site_ID' = 'Site_ID')) %>%
rename(Site_ID = IDmapping.Site_ID,
ER_wc = DO.slope.mgday) %>%
arrange(ER_wc)
sites <- st_as_sf(merge, coords = c('Longitude','Latitude'), crs = common_crs)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
full <- ggdraw() +
draw_plot(ER_wc_map) +
draw_plot(insert, x = 0.4, y = 0.4, width = 0.3, height = 0.3)
ggsave('./Data/Maps/SPS_ER_Water_Column_Map.pdf',
full,
width = 8,
height = 5
)
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse', n.breaks=6)+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_wc_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.6)+
new_scale_fill()+
geom_sf(data = sites, aes(color = ER_wc, size = ER_wc), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.2)+
scale_color_viridis(option = 'B', begin = 0.2)+
scale_size(range = c(1.5, 6), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Water Column\nRespiration\n(mg O2 L-1 day-1)") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tl", which_north = "true",
pad_x = unit(1.5, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
